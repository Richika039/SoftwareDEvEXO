<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Poke Blindestt</title>
     <!--Vue JS-->
     <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
     <!--Axios CDN // permet de faire des requêtes HTTP aux API-->
     <script src="https://cdn.jsdelivr.net/npm/axios@1.7.9/dist/axios.min.js"></script>
     <!--Bootstrap-->
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXhW+ALEwIH" crossorigin="anonymous">
     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</head>
<body>
        <div id="app">
            <div v-for="pokemon in pokemons" :key="pokemon.name">
                <img :src="pokemon.sprites.front_default">
            </div>
        </div>

        <script>
            let app = Vue.createApp({
                data(){
                    return {
                        randomSelection: [], // 2 nombres entre 1 et 151 (à utiliser plus tard)
                        pokemons: [
                            {
                                name: "Pokémon1",
                                sprites: {
                                    front_default:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/41.png"
                                },
                                cries: {
                                    latest: "https://raw.githubusercontent.com/PokeAPI/cries/main/cries/pokemon/latest/21.ogg"
                                }
                            },
                            {
                                name: "Pokémon2",
                                sprites: {
                                    front_default:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/41.png"
                                },
                                cries: {
                                    latest: "https://raw.githubusercontent.com/PokeAPI/cries/main/cries/pokemon/latest/21.ogg"
                                }
                            }
                        ],
                        answer: 0,
                        choices: 2
                    }
                },
                methods:{
                    selectRandom(){
                        randomSelection = []
                        for (let i = 0; i <this.choices; i++) {
                        this.randomSelection.push(Math.floor(Math.random() * 151) + 1)
                        }
                    },
                    getPokemons(){
                        this.pokemons=[]
                        for(let i=0; i <this.choices; i++){
                            axios.get('https://pokeapi.co/api/v2/pokemon/' + this.randomSelection[1]).then(
                                response => this.pokemons.push(response.data)
                            )
                        }
                    }
                },
                mounted(){
                    this.selectRandom()
                    this.getPokemons()
                }
            }).mount('#app')
        </script>
</body>
</html>
